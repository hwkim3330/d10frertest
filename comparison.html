<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="FRER vs Non-FRER 성능 비교 - IEEE 802.1CB 프레임 복제 효과 분석">
    <title>FRER vs Non-FRER 성능 비교 분석</title>

    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --frer-color: #4CAF50;
            --non-frer-color: #FF9800;
            --primary-color: #2196F3;
            --danger-color: #f44336;
            --dark-bg: #1a1a2e;
            --card-bg: #16213e;
            --text-color: #eee;
            --border-color: #0f3460;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1600px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header */
        header {
            background: var(--card-bg);
            padding: 40px 0;
            text-align: center;
            border-bottom: 3px solid var(--primary-color);
            margin-bottom: 40px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
        }

        header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            color: #fff;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }

        header p {
            font-size: 1.2em;
            color: #aaa;
        }

        .legend-box {
            display: inline-flex;
            gap: 30px;
            margin-top: 20px;
            padding: 15px 30px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .legend-color {
            width: 30px;
            height: 20px;
            border-radius: 5px;
        }

        /* Navigation */
        nav {
            background: var(--card-bg);
            padding: 15px 0;
            margin-bottom: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }

        nav ul {
            list-style: none;
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
        }

        nav ul li {
            margin: 5px 15px;
        }

        nav ul li a {
            color: var(--text-color);
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s;
            padding: 8px 16px;
            border-radius: 5px;
            display: inline-block;
        }

        nav ul li a:hover {
            color: var(--primary-color);
            background: rgba(33, 150, 243, 0.1);
        }

        /* Cards */
        .card {
            background: var(--card-bg);
            border-radius: 10px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
            border: 1px solid var(--border-color);
            animation: fadeIn 0.6s ease-out;
        }

        .card h2 {
            color: var(--primary-color);
            margin-bottom: 20px;
            border-bottom: 2px solid var(--primary-color);
            padding-bottom: 10px;
        }

        /* Summary Grid */
        .summary-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .summary-card {
            background: linear-gradient(135deg, rgba(76, 175, 80, 0.1) 0%, rgba(33, 150, 243, 0.1) 100%);
            padding: 25px;
            border-radius: 10px;
            border: 1px solid var(--border-color);
            text-align: center;
        }

        .summary-card .metric-label {
            font-size: 1.1em;
            color: #aaa;
            margin-bottom: 10px;
        }

        .summary-card .metric-value {
            font-size: 2em;
            font-weight: bold;
            margin: 10px 0;
        }

        .summary-card .improvement {
            font-size: 1.2em;
            font-weight: bold;
            padding: 5px 15px;
            border-radius: 20px;
            display: inline-block;
            margin-top: 10px;
        }

        .improvement.positive {
            background: rgba(76, 175, 80, 0.3);
            color: var(--frer-color);
        }

        .improvement.negative {
            background: rgba(244, 67, 54, 0.3);
            color: var(--danger-color);
        }

        /* Table */
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        table thead {
            background: var(--primary-color);
        }

        table th {
            padding: 12px;
            text-align: center;
            color: white;
            font-weight: 600;
        }

        table td {
            padding: 12px;
            text-align: center;
            border-bottom: 1px solid var(--border-color);
        }

        table tbody tr:hover {
            background: rgba(33, 150, 243, 0.1);
        }

        .better-frer {
            background: rgba(76, 175, 80, 0.2);
            font-weight: bold;
            color: var(--frer-color);
        }

        .better-non-frer {
            background: rgba(255, 152, 0, 0.2);
            font-weight: bold;
            color: var(--non-frer-color);
        }

        /* Chart Container */
        .chart-container {
            position: relative;
            height: 450px;
            margin: 30px 0;
            background: rgba(0, 0, 0, 0.2);
            padding: 20px;
            border-radius: 10px;
        }

        /* Comparison Grid */
        .comparison-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 30px;
            margin: 30px 0;
        }

        /* Footer */
        footer {
            background: var(--card-bg);
            padding: 30px 0;
            text-align: center;
            margin-top: 50px;
            border-top: 3px solid var(--primary-color);
        }

        footer p {
            color: #aaa;
            margin: 10px 0;
        }

        footer a {
            color: var(--primary-color);
            text-decoration: none;
        }

        footer a:hover {
            text-decoration: underline;
        }

        /* Responsive */
        @media (max-width: 768px) {
            header h1 {
                font-size: 1.8em;
            }

            .comparison-grid {
                grid-template-columns: 1fr;
            }

            .chart-container {
                height: 350px;
            }
        }

        /* Animations */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Icons */
        .icon {
            margin-right: 10px;
            color: var(--primary-color);
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <h1><i class="fas fa-balance-scale icon"></i>FRER vs Non-FRER 성능 비교 분석</h1>
            <p>IEEE 802.1CB 프레임 복제 및 제거 효과 검증</p>
            <div class="legend-box">
                <div class="legend-item">
                    <div class="legend-color" style="background: var(--frer-color);"></div>
                    <span>FRER 활성화 (2025-11-03)</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: var(--non-frer-color);"></div>
                    <span>Non-FRER (2025-11-04)</span>
                </div>
            </div>
        </div>
    </header>

    <nav>
        <div class="container">
            <ul>
                <li><a href="#summary"><i class="fas fa-chart-pie"></i> 요약</a></li>
                <li><a href="#latency"><i class="fas fa-clock"></i> 레이턴시</a></li>
                <li><a href="#throughput"><i class="fas fa-tachometer-alt"></i> 처리량</a></li>
                <li><a href="#analysis"><i class="fas fa-microscope"></i> 상세 분석</a></li>
                <li><a href="index.html"><i class="fas fa-home"></i> 홈</a></li>
                <li><a href="https://github.com/hwkim3330/d10frertest"><i class="fab fa-github"></i> GitHub</a></li>
            </ul>
        </div>
    </nav>

    <div class="container">
        <!-- Summary Section -->
        <section id="summary" class="card">
            <h2><i class="fas fa-trophy icon"></i>핵심 비교 결과</h2>

            <div class="summary-grid">
                <div class="summary-card">
                    <div class="metric-label">평균 레이턴시 개선</div>
                    <div class="metric-value" style="color: var(--frer-color);">
                        <i class="fas fa-arrow-down"></i> 11.2%
                    </div>
                    <div class="improvement positive">0.356ms vs 0.401ms</div>
                </div>

                <div class="summary-card">
                    <div class="metric-label">P99 레이턴시 개선</div>
                    <div class="metric-value" style="color: var(--frer-color);">
                        <i class="fas fa-arrow-down"></i> 17.0%
                    </div>
                    <div class="improvement positive">0.676ms vs 0.814ms</div>
                </div>

                <div class="summary-card">
                    <div class="metric-label">Jitter 감소</div>
                    <div class="metric-value" style="color: var(--frer-color);">
                        <i class="fas fa-arrow-down"></i> 21.1%
                    </div>
                    <div class="improvement positive">0.101ms vs 0.128ms</div>
                </div>

                <div class="summary-card">
                    <div class="metric-label">소형 프레임 처리량</div>
                    <div class="metric-value" style="color: var(--frer-color);">
                        <i class="fas fa-arrow-up"></i> 6.9%
                    </div>
                    <div class="improvement positive">64-512 bytes</div>
                </div>
            </div>

            <p style="text-align: center; font-size: 1.1em; margin-top: 30px; color: #aaa;">
                <strong>결론:</strong> FRER은 레이턴시, 안정성, 소형 프레임 처리에서 탁월한 개선 효과를 보입니다.
            </p>
        </section>

        <!-- Latency Comparison -->
        <section id="latency" class="card">
            <h2><i class="fas fa-clock icon"></i>레이턴시 비교 (ICMP RTT)</h2>

            <div class="comparison-grid">
                <div class="chart-container">
                    <canvas id="latencyAvgChart"></canvas>
                </div>
                <div class="chart-container">
                    <canvas id="latencyP99Chart"></canvas>
                </div>
            </div>

            <div class="chart-container">
                <canvas id="jitterChart"></canvas>
            </div>

            <h3 style="color: var(--primary-color); margin-top: 40px;">프레임 크기별 상세 비교</h3>
            <table>
                <thead>
                    <tr>
                        <th>프레임</th>
                        <th colspan="2">평균 레이턴시 (ms)</th>
                        <th colspan="2">P99 레이턴시 (ms)</th>
                        <th colspan="2">Jitter (ms)</th>
                    </tr>
                    <tr>
                        <th>크기</th>
                        <th style="background: var(--frer-color);">FRER</th>
                        <th style="background: var(--non-frer-color);">Non-FRER</th>
                        <th style="background: var(--frer-color);">FRER</th>
                        <th style="background: var(--non-frer-color);">Non-FRER</th>
                        <th style="background: var(--frer-color);">FRER</th>
                        <th style="background: var(--non-frer-color);">Non-FRER</th>
                    </tr>
                </thead>
                <tbody id="latencyTable">
                    <!-- Filled by JavaScript -->
                </tbody>
            </table>
        </section>

        <!-- Throughput Comparison -->
        <section id="throughput" class="card">
            <h2><i class="fas fa-tachometer-alt icon"></i>처리량 비교 (RFC 2544 Zero-Loss)</h2>

            <div class="chart-container">
                <canvas id="throughputChart"></canvas>
            </div>

            <table>
                <thead>
                    <tr>
                        <th>프레임 크기</th>
                        <th style="background: var(--frer-color);">FRER (Mbps)</th>
                        <th style="background: var(--non-frer-color);">Non-FRER (Mbps)</th>
                        <th>차이</th>
                        <th>우수</th>
                    </tr>
                </thead>
                <tbody id="throughputTable">
                    <!-- Filled by JavaScript -->
                </tbody>
            </table>
        </section>

        <!-- Detailed Analysis -->
        <section id="analysis" class="card">
            <h2><i class="fas fa-microscope icon"></i>상세 분석</h2>

            <h3><i class="fas fa-check-circle" style="color: var(--frer-color);"></i> FRER의 장점</h3>
            <ul style="list-style-position: inside; line-height: 2.5; font-size: 1.1em;">
                <li><strong>레이턴시 개선 (11.2%):</strong> 두 경로 중 빠른 프레임을 선택하여 평균 레이턴시 감소</li>
                <li><strong>P99 레이턴시 개선 (17.0%):</strong> 최악의 경우 성능도 크게 향상</li>
                <li><strong>Jitter 감소 (21.1%):</strong> 경로 다양성으로 지연 편차 상쇄, 더 안정적인 성능</li>
                <li><strong>소형 프레임 처리량 증가 (6.9%):</strong> 64-512B 프레임에서 평균 6.9% 더 높은 처리량</li>
                <li><strong>자동 장애 조치:</strong> 한쪽 경로 장애 시 다른 경로로 무중단 전환</li>
                <li><strong>네트워크 복원력:</strong> 제로 다운타임 보장</li>
            </ul>

            <h3 style="margin-top: 30px;"><i class="fas fa-exclamation-triangle" style="color: var(--non-frer-color);"></i> FRER의 트레이드오프</h3>
            <ul style="list-style-position: inside; line-height: 2.5; font-size: 1.1em;">
                <li><strong>대형 프레임 처리량 감소 (4%):</strong> 1280-1518B 프레임에서 6바이트 R-TAG 오버헤드 + 프레임 복제 영향</li>
                <li><strong>대역폭 사용량 2배:</strong> 각 프레임을 2개 경로로 복제 전송</li>
                <li><strong>하드웨어 요구사항:</strong> FRER 지원 스위치 및 NIC 필요</li>
            </ul>

            <h3 style="margin-top: 30px;"><i class="fas fa-lightbulb" style="color: var(--primary-color);"></i> 적용 권장 시나리오</h3>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 20px;">
                <div style="background: rgba(76, 175, 80, 0.1); padding: 20px; border-radius: 10px; border-left: 4px solid var(--frer-color);">
                    <h4 style="color: var(--frer-color); margin-bottom: 15px;"><i class="fas fa-check"></i> FRER 사용 권장</h4>
                    <ul style="list-style-position: inside; line-height: 2;">
                        <li>실시간 제어 시스템</li>
                        <li>산업 자동화 (PLC, SCADA)</li>
                        <li>의료 기기 통신</li>
                        <li>차량 네트워크 (V2X)</li>
                        <li>소형 프레임 위주 앱</li>
                    </ul>
                </div>

                <div style="background: rgba(255, 152, 0, 0.1); padding: 20px; border-radius: 10px; border-left: 4px solid var(--non-frer-color);">
                    <h4 style="color: var(--non-frer-color); margin-bottom: 15px;"><i class="fas fa-times"></i> FRER 사용 재고</h4>
                    <ul style="list-style-position: inside; line-height: 2;">
                        <li>대용량 파일 전송</li>
                        <li>비디오 스트리밍 (>1280B)</li>
                        <li>대역폭 제약 환경</li>
                        <li>비용 민감 프로젝트</li>
                        <li>레거시 장비 사용</li>
                    </ul>
                </div>
            </div>

            <div style="background: rgba(33, 150, 243, 0.1); padding: 25px; border-radius: 10px; margin-top: 30px; border: 2px solid var(--primary-color);">
                <h3 style="color: var(--primary-color); margin-bottom: 15px;"><i class="fas fa-graduation-cap"></i> R-TAG (6바이트) 오버헤드 분석</h3>
                <table style="margin: 0;">
                    <thead>
                        <tr>
                            <th>프레임 크기</th>
                            <th>R-TAG 오버헤드</th>
                            <th>처리량 영향</th>
                            <th>실제 결과</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>64 bytes</td>
                            <td>9.4% (6/64)</td>
                            <td class="better-frer">높은 오버헤드</td>
                            <td class="better-frer">+4.1% (경로 최적화 효과)</td>
                        </tr>
                        <tr>
                            <td>512 bytes</td>
                            <td>1.2% (6/512)</td>
                            <td>중간</td>
                            <td class="better-frer">+16.1% (우수)</td>
                        </tr>
                        <tr>
                            <td>1280 bytes</td>
                            <td>0.5% (6/1280)</td>
                            <td>낮은 오버헤드</td>
                            <td class="better-non-frer">-6.1% (Non-FRER 우수)</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Test Info -->
        <section class="card">
            <h2><i class="fas fa-info-circle icon"></i>테스트 환경</h2>

            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px;">
                <div>
                    <h3 style="color: var(--frer-color);">FRER 활성화 테스트</h3>
                    <ul style="list-style-position: inside; line-height: 2;">
                        <li><strong>날짜:</strong> 2025-11-03</li>
                        <li><strong>대상:</strong> 192.168.1.3</li>
                        <li><strong>프로토콜:</strong> IEEE 802.1CB</li>
                        <li><strong>경로:</strong> 이중 경로 복제</li>
                        <li><strong>샘플:</strong> 1000/frame size</li>
                    </ul>
                </div>

                <div>
                    <h3 style="color: var(--non-frer-color);">Non-FRER 테스트</h3>
                    <ul style="list-style-position: inside; line-height: 2;">
                        <li><strong>날짜:</strong> 2025-11-04</li>
                        <li><strong>대상:</strong> 192.168.1.3</li>
                        <li><strong>프로토콜:</strong> 표준 Ethernet</li>
                        <li><strong>경로:</strong> 단일 경로</li>
                        <li><strong>샘플:</strong> 1000/frame size</li>
                    </ul>
                </div>
            </div>

            <div style="margin-top: 30px; text-align: center;">
                <a href="sample_results/FRER_VS_NON-FRER_COMPARISON.md" style="display: inline-block; padding: 12px 24px; background: var(--primary-color); color: white; text-decoration: none; border-radius: 5px; margin: 5px;">
                    <i class="fas fa-file-alt"></i> 상세 비교 문서 (MD)
                </a>
                <a href="https://github.com/hwkim3330/d10frertest" style="display: inline-block; padding: 12px 24px; background: #333; color: white; text-decoration: none; border-radius: 5px; margin: 5px;">
                    <i class="fab fa-github"></i> GitHub 저장소
                </a>
            </div>
        </section>
    </div>

    <footer>
        <div class="container">
            <p><strong>FRER vs Non-FRER 성능 비교 분석</strong></p>
            <p>Made with ❤️ by Network Performance Testing Lab</p>
            <p>
                <a href="https://github.com/hwkim3330/d10frertest"><i class="fab fa-github"></i> GitHub</a> |
                <a href="index.html"><i class="fas fa-home"></i> 메인 페이지</a> |
                <a href="sample_results/FRER_VS_NON-FRER_COMPARISON.md"><i class="fas fa-file-alt"></i> 상세 리포트</a>
            </p>
            <p style="color: #666; margin-top: 20px;">
                © 2025 Network Performance Testing Lab. IEEE 802.1CB FRER Analysis.
            </p>
        </div>
    </footer>

    <script>
        // Data from actual test results
        const frameSizes = ['64', '128', '256', '512', '1024', '1280', '1518'];

        const latencyData = {
            frer: {
                avg: [0.332, 0.334, 0.335, 0.352, 0.394, 0.403, 0.381],
                p99: [0.618, 0.864, 0.735, 0.629, 0.740, 0.780, 0.848],
                jitter: [0.093, 0.117, 0.105, 0.089, 0.102, 0.122, 0.111]
            },
            nonFrer: {
                avg: [0.389, 0.280, 0.369, 0.393, 0.392, 0.422, 0.369],
                p99: [0.867, 0.583, 0.683, 0.793, 0.680, 0.783, 0.607],
                jitter: [0.166, 0.089, 0.103, 0.113, 0.097, 0.106, 0.072]
            }
        };

        const throughputData = {
            frer: [24.41, 47.34, 96.61, 203.92, 340.50, 418.55, 340.50],
            nonFrer: [23.44, 46.36, 91.73, 175.63, 338.55, 445.87, 346.36]
        };

        // Populate Latency Table
        const latencyTable = document.getElementById('latencyTable');
        frameSizes.forEach((size, i) => {
            const row = latencyTable.insertRow();
            row.innerHTML = `
                <td><strong>${size}B</strong></td>
                <td class="${latencyData.frer.avg[i] < latencyData.nonFrer.avg[i] ? 'better-frer' : ''}">${latencyData.frer.avg[i].toFixed(3)}</td>
                <td class="${latencyData.nonFrer.avg[i] < latencyData.frer.avg[i] ? 'better-non-frer' : ''}">${latencyData.nonFrer.avg[i].toFixed(3)}</td>
                <td class="${latencyData.frer.p99[i] < latencyData.nonFrer.p99[i] ? 'better-frer' : ''}">${latencyData.frer.p99[i].toFixed(3)}</td>
                <td class="${latencyData.nonFrer.p99[i] < latencyData.frer.p99[i] ? 'better-non-frer' : ''}">${latencyData.nonFrer.p99[i].toFixed(3)}</td>
                <td class="${latencyData.frer.jitter[i] < latencyData.nonFrer.jitter[i] ? 'better-frer' : ''}">${latencyData.frer.jitter[i].toFixed(3)}</td>
                <td class="${latencyData.nonFrer.jitter[i] < latencyData.frer.jitter[i] ? 'better-non-frer' : ''}">${latencyData.nonFrer.jitter[i].toFixed(3)}</td>
            `;
        });

        // Populate Throughput Table
        const throughputTable = document.getElementById('throughputTable');
        frameSizes.forEach((size, i) => {
            const diff = ((throughputData.frer[i] - throughputData.nonFrer[i]) / throughputData.nonFrer[i] * 100).toFixed(1);
            const row = throughputTable.insertRow();
            row.innerHTML = `
                <td><strong>${size}B</strong></td>
                <td class="${throughputData.frer[i] > throughputData.nonFrer[i] ? 'better-frer' : ''}">${throughputData.frer[i].toFixed(2)}</td>
                <td class="${throughputData.nonFrer[i] > throughputData.frer[i] ? 'better-non-frer' : ''}">${throughputData.nonFrer[i].toFixed(2)}</td>
                <td style="color: ${diff > 0 ? 'var(--frer-color)' : 'var(--danger-color)'};">${diff > 0 ? '+' : ''}${diff}%</td>
                <td>${throughputData.frer[i] > throughputData.nonFrer[i] ? '<i class="fas fa-check" style="color: var(--frer-color);"></i> FRER' : '<i class="fas fa-check" style="color: var(--non-frer-color);"></i> Non-FRER'}</td>
            `;
        });

        // Chart: Average Latency
        new Chart(document.getElementById('latencyAvgChart'), {
            type: 'line',
            data: {
                labels: frameSizes,
                datasets: [{
                    label: 'FRER',
                    data: latencyData.frer.avg,
                    borderColor: 'rgb(76, 175, 80)',
                    backgroundColor: 'rgba(76, 175, 80, 0.1)',
                    borderWidth: 3,
                    tension: 0.3,
                    fill: true
                }, {
                    label: 'Non-FRER',
                    data: latencyData.nonFrer.avg,
                    borderColor: 'rgb(255, 152, 0)',
                    backgroundColor: 'rgba(255, 152, 0, 0.1)',
                    borderWidth: 3,
                    tension: 0.3,
                    fill: true
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    title: {
                        display: true,
                        text: '평균 레이턴시 비교 (낮을수록 좋음)',
                        color: '#eee',
                        font: { size: 16, weight: 'bold' }
                    },
                    legend: {
                        labels: { color: '#eee', font: { size: 14 } }
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        grid: { color: 'rgba(255, 255, 255, 0.1)' },
                        ticks: {
                            color: '#eee',
                            callback: value => value.toFixed(2) + ' ms'
                        },
                        title: {
                            display: true,
                            text: 'Latency (ms)',
                            color: '#eee'
                        }
                    },
                    x: {
                        grid: { color: 'rgba(255, 255, 255, 0.1)' },
                        ticks: { color: '#eee' },
                        title: {
                            display: true,
                            text: 'Frame Size (bytes)',
                            color: '#eee'
                        }
                    }
                }
            }
        });

        // Chart: P99 Latency
        new Chart(document.getElementById('latencyP99Chart'), {
            type: 'bar',
            data: {
                labels: frameSizes,
                datasets: [{
                    label: 'FRER',
                    data: latencyData.frer.p99,
                    backgroundColor: 'rgba(76, 175, 80, 0.7)',
                    borderColor: 'rgb(76, 175, 80)',
                    borderWidth: 2
                }, {
                    label: 'Non-FRER',
                    data: latencyData.nonFrer.p99,
                    backgroundColor: 'rgba(255, 152, 0, 0.7)',
                    borderColor: 'rgb(255, 152, 0)',
                    borderWidth: 2
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    title: {
                        display: true,
                        text: 'P99 레이턴시 비교 (낮을수록 좋음)',
                        color: '#eee',
                        font: { size: 16, weight: 'bold' }
                    },
                    legend: {
                        labels: { color: '#eee', font: { size: 14 } }
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        grid: { color: 'rgba(255, 255, 255, 0.1)' },
                        ticks: {
                            color: '#eee',
                            callback: value => value.toFixed(2) + ' ms'
                        },
                        title: {
                            display: true,
                            text: 'P99 Latency (ms)',
                            color: '#eee'
                        }
                    },
                    x: {
                        grid: { color: 'rgba(255, 255, 255, 0.1)' },
                        ticks: { color: '#eee' },
                        title: {
                            display: true,
                            text: 'Frame Size (bytes)',
                            color: '#eee'
                        }
                    }
                }
            }
        });

        // Chart: Jitter
        new Chart(document.getElementById('jitterChart'), {
            type: 'line',
            data: {
                labels: frameSizes,
                datasets: [{
                    label: 'FRER',
                    data: latencyData.frer.jitter,
                    borderColor: 'rgb(76, 175, 80)',
                    backgroundColor: 'rgba(76, 175, 80, 0.2)',
                    borderWidth: 3,
                    tension: 0.3,
                    fill: true
                }, {
                    label: 'Non-FRER',
                    data: latencyData.nonFrer.jitter,
                    borderColor: 'rgb(255, 152, 0)',
                    backgroundColor: 'rgba(255, 152, 0, 0.2)',
                    borderWidth: 3,
                    tension: 0.3,
                    fill: true
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    title: {
                        display: true,
                        text: 'Jitter 비교 (낮을수록 안정적)',
                        color: '#eee',
                        font: { size: 16, weight: 'bold' }
                    },
                    legend: {
                        labels: { color: '#eee', font: { size: 14 } }
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        grid: { color: 'rgba(255, 255, 255, 0.1)' },
                        ticks: {
                            color: '#eee',
                            callback: value => value.toFixed(3) + ' ms'
                        },
                        title: {
                            display: true,
                            text: 'Jitter (ms)',
                            color: '#eee'
                        }
                    },
                    x: {
                        grid: { color: 'rgba(255, 255, 255, 0.1)' },
                        ticks: { color: '#eee' },
                        title: {
                            display: true,
                            text: 'Frame Size (bytes)',
                            color: '#eee'
                        }
                    }
                }
            }
        });

        // Chart: Throughput
        new Chart(document.getElementById('throughputChart'), {
            type: 'bar',
            data: {
                labels: frameSizes,
                datasets: [{
                    label: 'FRER',
                    data: throughputData.frer,
                    backgroundColor: 'rgba(76, 175, 80, 0.7)',
                    borderColor: 'rgb(76, 175, 80)',
                    borderWidth: 2
                }, {
                    label: 'Non-FRER',
                    data: throughputData.nonFrer,
                    backgroundColor: 'rgba(255, 152, 0, 0.7)',
                    borderColor: 'rgb(255, 152, 0)',
                    borderWidth: 2
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    title: {
                        display: true,
                        text: 'RFC 2544 Throughput 비교 (Zero-Loss)',
                        color: '#eee',
                        font: { size: 18, weight: 'bold' }
                    },
                    legend: {
                        labels: { color: '#eee', font: { size: 14 } }
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        grid: { color: 'rgba(255, 255, 255, 0.1)' },
                        ticks: {
                            color: '#eee',
                            callback: value => value.toFixed(0) + ' Mbps'
                        },
                        title: {
                            display: true,
                            text: 'Throughput (Mbps)',
                            color: '#eee'
                        }
                    },
                    x: {
                        grid: { color: 'rgba(255, 255, 255, 0.1)' },
                        ticks: { color: '#eee' },
                        title: {
                            display: true,
                            text: 'Frame Size (bytes)',
                            color: '#eee'
                        }
                    }
                }
            }
        });

        // Smooth scrolling
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });
    </script>
</body>
</html>
